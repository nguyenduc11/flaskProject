{% extends 'base.html' %}

{% block title %}To-Do List{% endblock %}

{% block content %}
<div class="container my-5">
  <header class="mb-4">
    <h1 class="display-4">To-Do List</h1>
  </header>

  <main>
    {% if tasks %}
      <form method="POST" action="/todos">
      <h2 class="h5 mt-4">Add a new task</h2>
      <div class="form-group">
        <label for="title">Title</label>
        <input type="text" class="form-control" id="title" name="title" placeholder="Enter a title">
      </div>
      <div class="form-group">
        <label for="description">Description</label>
        <textarea class="form-control" id="description" name="description" rows="3" placeholder="Enter a description"></textarea>
      </div>
      <button type="submit" class="btn btn-primary">Submit</button>
    </form>
      <ul class="list-group">
        {% for task in tasks %}
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <div>
              <h2 class="h5 mb-1">{{ task.title }}</h2>
              <p class="mb-0 text-muted">{{ task.description }}</p>
            </div>
            {% if task.completed %}
              <span class="badge bg-success rounded-pill">Completed</span>
            {% else %}
              <span class="badge bg-warning rounded-pill">Pending</span>
            {% endif %}
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="lead text-center">No tasks found. Add some tasks to get started!</p>
    {% endif %}


  </main>
</div>
{% endblock %}